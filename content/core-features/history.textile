---
title: History
section: core-features
index: 21
---

Ably, by default, retains messages for a duration of 2 min. Within this period, messages are resent to the clients expecting to receive them, but could not do so, perhaps due to a short disconnection. Even in such a case, Ably ensures all the backlog messages sent by publishers within these two minutes are sent to the respective recipient clients in the same order as they were received. This holds true for messages relevant to both "@Channel@":/realtime/channels-messages as well as "@Presence@":/realtime/presence objects.

 <a href="/images/diagrams/history.png" target="_blank">
  <img src="/images/diagrams/history.png" style="width: 100%" alt="History representation">
</a>

However, if your use case requires longer retention of messages, i.e, longer than the default 2 min, you can enable "persisted history": using both the "Realtime":/realtime and the "REST":/rest libraries of Ably. If "persisted history is enabled":#persisted-history for a channel, it's messages will "typically be stored for 24 - 72 hours on disk":https://support.ably.io/solution/articles/3000030059-how-long-are-messages-stored-for.

h2(#persisted-history). Enabling persistent history

Every message that is persisted to or retrieved from disk counts as an extra message towards your monthly quota. For example, for a channel that has persistence enabled, if a message is published, two messages will be deducted from your monthly quota. If the message is later retrieved from history, another message will be deducted from your monthly quota.

To enable history on a channel, it is necessary to add a channel rule in the settings of your "application dashboard":https://support.ably.io/solution/articles/3000030053-how-do-i-access-my-app-dashboard. See the "documentation on channel rules":https://support.ably.io/solution/articles/3000030057-what-are-channel-rules-and-how-can-i-use-them-in-my-app for further information on what they are and how to configure them.