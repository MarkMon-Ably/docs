---
title: Control API Overview
meta_description: "Control API provides a REST API to allow you to manage your Ably account."
meta_keywords: "Ably, account management, control, REST API."
section: control-api
index: 5
jump_to:
  Help with:
    - Overview#overview
    - Authentication#authentication
    - Account and application IDs#ids
    - Try out the API#try-out
    - Examples - Apps#examples-apps
    - Examples - Queues#examples-queues
    - See also#see-also
---

h2(#overview). Overview

The Control API is a REST API that allows you to manage your Ably account remotely.

Using this API you can manage:

* Your applications
* Keys for an application
* Namespaces
* Queues
* Rules

Repetitive operations such as creating or updating apps, enumerating queues, and other tasks can be automated using the Control API.

h2(#authentication). Authentication

In the Ably dashboard, on the top menu bar, navigate to "Free account" (other account name as appropriate) and select "My Access Tokens" from the menu.  

You are presented with the "My Access Tokens" area, where you can create tokens for use with the Control API. 

h3(#create-access-token). Create an access token

To create a new token use the following procedure:

1. Click the "Create new access token" button. 
2. Enter a friendly name for your token, so you'll remember what it's used for.
3. Select the capabilities you wish the token to have, depending on your use case.
4. Click the "Create" button to create the token.

h3(#using-access-token). Using the access token

From the "My access tokens" area you can click the "Copy Token" button, to copy the button to the clipboard.

You use the access token to validate your API requests. This is done by using the access token as a bearer token in the @Authorization@ of the HTTP request. For example, using Curl:

```[sh]
curl -H 'Authorization: Bearer <YOUR_ACCESS_TOKEN>' ...
```

h2(#ids). Account and application IDs

Note that some requests require your Account ID, and some require your App ID.

h3(#account-id). How to find your Account ID

In the Ably dashboard, on the top menu bar, navigate to "Free account" (other account name as appropriate) and select "Account settings". Your Account is displayed.

h3(#app-id). How to find your Application ID

In the Ably dashboard click on the app you want to find the application ID for. Click on the "Settings" tab. The App ID is displayed under "Application settings".

h2(#try-out). Trying out the API

There are several ways you can try out the API. You can use a command line tool such as Curl or HTTPie to test out various requests. Another way is to use a graphical tool such as Postman or Paw.

h3(#importing). Importing the specification into Postman

A convenient way to try out the REST APIs is by importing the OAS3 specification into "Postman":https://www.postman.com/. To do this, carry out the following steps: 

1. Make sure you have "Postman":https://www.postman.com/ installed.

2. Start Postman and select File > Import from the main menu. The import dialog is displayed:

<a href="/images/screenshots/control-api/postman-import.png" target="_blank">
  <img src="/images/screenshots/control-api/postman-import.png" style="width: 100%" alt="Postman import dialog">
</a>

3. Drag and drop the OAS3 specification you want to test, or use the "Upload file" button to select and import a specification. Alternatively, if you haven't already downloaded the specification, you can provide a link to it in the Ably Open Specs "GitHub repository":https://github.com/ably/open-specs/definitions/control-v1.yaml.

4. On the Import dialog simply leave the default settings, and click "Import".

5. The imported specification will now appear in your Postman collections:

<a href="/images/screenshots/control-api/imported-collection.png" target="_blank">
  <img src="/images/screenshots/control-api/imported-collection.png" style="width: 100%" alt="Postman imported collection">
</a>

You are now ready to test out the API.

h3(#send-request). Sending a request

Now that you have imported the specification into Postman, you are ready to try out the API. For Control API you need to configure your token. This token is used to authenticate your requests.

See the "documentation":#authentication on how to obtain your token.

For many Control API requests you will also need to specify your Account ID or Application ID. You can see the "documentation":#ids for details on how to obtain these.

Now that you understand where to obtain these items, you will see how to configure and run a request in postman. 

1. The following screenshot shows the information for the "List account apps" request:

<a href="/images/screenshots/control-api/app-list-request.png" target="_blank">
  <img src="/images/screenshots/control-api/app-list-request.png" style="width: 100%" alt="App list request">
</a>

You need to configure your account ID in this case.

2. You also need to configure your token:

<a href="/images/screenshots/control-api/bearer-token.png" target="_blank">
  <img src="/images/screenshots/control-api/bearer-token.png" style="width: 100%" alt="Bearer token">
</a>

Without the token set, your request will fail to authenticate.

3. Now that everything is configured, you can send the request:

<a href="/images/screenshots/control-api/send-request.png" target="_blank">
  <img src="/images/screenshots/control-api/send-request.png" style="width: 100%" alt="Send request">
</a>

4. You receive back a response from the server:

<a href="/images/screenshots/control-api/response.png" target="_blank">
  <img src="/images/screenshots/control-api/response.png" style="width: 100%" alt="Response">
</a>

You are now ready to try out other requests.

h2(#examples-apps). Examples - applications

You can use the Control API to carry out tasks such as listing and creating applications. Operations available include:

* Get a list of apps
* Create an app
* Update an app
* Delete an app
* Update an app's APNS info 

h3(#examples-apps-list). List your apps

To list all the apps associated with an account:

```[sh]
curl "https://control.ably.net/v1/accounts/<YOUR_ACCOUNT_ID>/apps" \
     -H 'Authorization: Bearer <YOUR_ACCESS_TOKEN>' \
     -H 'Accept: application/json'
```

An example response is shown in the following snippet:

```[json]
[
  {
    "id": "28AB6w",
    "name": "Default",
    "status": "enabled",
    "tlsOnly": true,
    "enablePusherCompatibility": false,
    "fcmKey": null,
    "apnsCertificate": null,
    "apnsUseSandboxEndpoint": false
  },
  {
    "id": "dcABrA",
    "name": "TestApp",
    "status": "deleted",
    "tlsOnly": true,
    "enablePusherCompatibility": false,
    "fcmKey": null,
    "apnsCertificate": null,
    "apnsUseSandboxEndpoint": false
  }
]
```

h3(#examples-apps-create). Create an app

To create an app:

```[sh]
curl -X "POST" "https://control.ably.net/v1/accounts/<YOUR_ACCOUNT_ID>/apps" \
     -H 'Authorization: Bearer <YOUR_ACCESS_TOKEN>' \
     -H 'Accept: application/json' \
     -H 'Content-Type: application/json; charset=utf-8' \
     -d $'{
  "status": "enabled",
  "tlsOnly": true,
  "enablePusherCompatibility": false,
  "name": "control-api-test-1",
  "setupPusherNamespaces": false
}'
```

An example response is shown in the following snippet:

```[json]
{
  "id": "rA0lav",
  "name": "control-api-test-1",
  "status": "enabled",
  "tlsOnly": true,
  "enablePusherCompatibility": false,
  "fcmKey": null,
  "apnsCertificate": null,
  "apnsUseSandboxEndpoint": false
}
```

h2(#examples-queues). Examples - queues

You can use the Control API to manage Reactor queues. The main operations are:

* List queues
* Create a queue
* Delete a queue

h3(#examples-queues-list). List queues

To list all queues associated with an app:

```[sh]
curl "https://control.ably.net/v1/apps/<YOUR_APP_ID>/queues" \
     -H 'Authorization: Bearer <YOUR_ACCESS_TOKEN>' \
     -H 'Accept: application/json'
```

An example response is shown in the following snippet:

```[json]
[
  {
    "endpoint_friendly_name": "US East (Virginia)",
    "endpoint_server": "us-east-1-a-queue.ably.io:15671",
    "endpoint_host": "us-east-1-a-queue.ably.io",
    "region": "us-east-1-a",
    "name": "rN0lab:deadletter",
    "vhost": "shared",
    "state": "Running",
    "messages_ready": 0,
    "messages_unacknowledged": 0,
    "messages": 0,
    "ttl": 60,
    "maxLength": 10000,
    "app_name": "control-api-test-1",
    "app_api_id": "rN0lab",
    "friendly_name": "control-api-test-1 (rN0lab) - deadletter",
    "deadletter": true
  },
  {
    "endpoint_friendly_name": "US East (Virginia)",
    "endpoint_server": "us-east-1-a-queue.ably.io:15671",
    "endpoint_host": "us-east-1-a-queue.ably.io",
    "region": "us-east-1-a",
    "name": "rN0lab:queue-2",
    "vhost": "shared",
    "state": "Running",
    "messages_ready": 0,
    "messages_unacknowledged": 0,
    "messages": 0,
    "ttl": 10,
    "maxLength": 1000,
    "app_name": "control-api-test-1",
    "app_api_id": "rN0lab",
    "friendly_name": "control-api-test-1 (rN0lab) - queue-2",
    "deadletter": false
  }
]
```

h3(#examples-queues-create). Create a queue

To create a Reactor queue for an app:

```[sh]
curl -X "POST" "https://control.ably.net/v1/apps/<YOUR_APP_ID>/queues" \
     -H 'Authorization: Bearer <YOUR_ACCESS_TOKEN>' \
     -H 'Accept: application/json' \
     -H 'Content-Type: application/json; charset=utf-8' \
     -d $'{
  "ttl": 10,
  "region": "us-east-1-a",
  "name": "queue-2",
  "maxLength": 1000
}'
```

In this request:

- ttl := is the time to live of messages in the queue, in minutes. 
- region := is the region in which the queue is hosted and is one of: @eu-west-1-a@, @us-east-1-a@.
- maxLength := is the maximum number of messages in the queue.
- name := is the name of the queue.

An example response is shown in the following snippet:

```[json]
{
  "endpoint_friendly_name": "US East (Virginia)",
  "endpoint_server": "us-east-1-a-queue.ably.io:15671",
  "region": "us-east-1-a",
  "name": "rN0lab:queue-2",
  "vhost": "shared",
  "state": "Running",
  "messages_ready": 0,
  "messages_unacknowledged": 0,
  "messages": 0,
  "ttl": 10,
  "maxLength": 1000
}
```

h2(#see-also). See also

* "Control API Reference":/control-api/api-reference
