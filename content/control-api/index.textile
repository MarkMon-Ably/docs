---
title: Control API
meta_description: "The Control API is a REST API that enables you to manage your Ably account programmatically. This is the Control API Reference guide."
meta_keywords: "Ably, Control API, account management, control, REST API, OpenAPI Specification, OAS3."
section: control-api
index: 0
jump_to:
  Help with:
    - OpenAPI Specification#oas3
    - Authentication#authentication
    - Account and application IDs#ids
    - Quickstart#quickstart
    - Rate limits#rate-limits
    - See also#see-also
---

The Control API is a REST API that enables you to manage your Ably account programmatically. 

Using the Control API you can manage:

* Your applications
* Keys for an application
* "Namespaces":/general/channel-rules-namespaces (for channel rules)
* "Queues":/general/queues
* "Reactor rules":/general/events

Repetitive operations such as creating or updating apps, enumerating queues, and other tasks can be automated using the Control API.

In order to use the Control API you need to first create an access token in the Dashboard. However, once you have done this you can use the Control API to manage your account without having to interact with the Dashboard for many functions.

h2(#oas3). OpenAPI Specification (OAS3)

The OpenAPI Specification (OAS3) for this API can be found in the Ably OpenAPI Specifications "GitHub repository":https://github.com/ably/open-specs.

h2(#authentication). Authentication

Before you can use the Control API you need to create an access token for authentication. This is done in the Dashboard.

In the "Ably dashboard":https://ably.com/accounts/any, on the top menu bar, select your account from the dropdown list and then select "My Access Tokens" from the menu:

<a href="/images/screenshots/control-api/my-access-tokens-menu-item.png" target="_blank">
  <img src="/images/screenshots/control-api/my-access-tokens-menu-item.png" style="width: 40%" alt="My Settings">
</a>

You are presented with the "My Access Tokens" area, where you can create tokens for use with the Control API:

<a href="/images/screenshots/control-api/my-access-tokens.png" target="_blank">
  <img src="/images/screenshots/control-api/my-access-tokens.png" style="width: 80%" alt="My Settings">
</a>

h3(#creating-access-token). Creating an access token

To create a new token, click the "Create new access token" button. Then enter the required information into the dialog:

1. Enter a friendly name for your token, so you'll remember what it's used for.
2. Select the capabilities you wish the token to have, depending on your use case.
3. Click the "Create" button to create the token.

<a href="/images/screenshots/control-api/new-access-token.png" target="_blank">
  <img src="/images/screenshots/control-api/new-access-token.png" style="width: 40%" alt="My Settings">
</a>

h3(#using-access-token). Using the access token

From the "My access tokens" area you can click the "Copy Token" button, to copy the button to the clipboard.

You use the access token to validate your API requests. This is done by using the access token as a bearer token in the @Authorization@ of the HTTP request. For example, using Curl:

```[sh]
curl -H 'Authorization: Bearer <YOUR_ACCESS_TOKEN>' ...
```

h2(#ids). Account and application IDs

Operations that affect your entire account, such as "listing the applications":/control-api/api-reference/#operation/listApps associated with that account, require an Account ID. Those that affect individual applications, such as "creating an API key":/control-api/api-reference/#tag/keys/paths/~1apps~1{app_id}~1keys/post , require an Application ID.

h3(#account-id). How to find your Account ID

In the "Ably dashboard":https://ably.com/accounts/any, on the top menu bar, select your account from the dropdown list and then select "Account settings": 

<a href="/images/screenshots/control-api/account-settings-menu-item.png" target="_blank">
  <img src="/images/screenshots/control-api/account-settings-menu-item.png" style="width: 40%" alt="Account Settings">
</a>

Your Account Settings are displayed.

h3(#app-id). How to find your Application ID

In the "Ably dashboard":https://ably.com/accounts/any select the app you want to find the application ID for. Click on the "Settings" tab:

<a href="/images/screenshots/control-api/application-settings.png" target="_blank">
  <img src="/images/screenshots/control-api/application-settings.png" style="width: 70%" alt="Application Settings">
</a>

The App ID is displayed under "Application settings". It is also the first part of your API key for that application. For example, if your API key is @28AB6c.DEFi0Q@, then the App ID is @28AB6c@.

h2(#quickstart). Quickstart

To list all the apps associated with your account:

```[sh]
curl "https://control.ably.net/v1/accounts/<ACCOUNT_ID>/apps" \
     --header 'Authorization: Bearer <ACCESS_TOKEN>' \
     --header 'Accept: application/json'
```

To create a Reactor rule:

```[sh]
curl --location --request POST 'https://control.ably.net/v1/apps/<APP_ID>/rules' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer <ACCESS_TOKEN>' \
--data-raw '{
    "target": {
        "url": "https://test.me/path"
    },
    "type": "webhook",
    "format": "json",
    "source": "channel.message",
    "channelFilter": null,
    "enveloped": false,
    "keyId": null,
    "headers": [
        "a:b"
    ]
}'
```

h2(#rate-limits). Rate limits

The Control API has certain limits on the number of API calls that can be made per hour. The limits are as follows:

|_. Authenticated |_. Limit (requests per hour) |_. Scope |
| True | 4000 | Limit is per account. The limit at the token level is 2000 calls per hour. This prevents an integration from using up all the limits. |
| False | 60 | Limit is by IP address |

If you hit a rate limit you receive an error message, as shown in the following table:

|_. Authenticated |_. HTTP status code |_. Message example |
| True | 429 | Rate limit exceeded; request rejected (nonfatal); metric = channel.maxRate; interval = 2021-05-11:12:43:6; permitted rate = 100; current rate = 100; scope = channel:[app:JrsUEQ:meta]channel.lifecycle |
| False | 401 | Unauthorized |

h2(#see-also). See also

* "Control API Reference":/control-api/api-reference
* "Test the API with Postman":/control-api/testing-with-postman
* "Curl examples":/control-api/curl-examples
