Before you can configure your devices to receive push notifications, you must first enable push in your Ably app by adding the APNS push service credentials and/or certificates to your app push dashboard. These credentials are then used by Ably to authenticate with APNS and delivery all queued notifications. This step will setup your Ably dashboard with the correct certificates.

Go to your ably dashboard and select your environment(production or sandbox) and clicks on 'settings' .

Next, you can either import the .p12 certificate, or create a PEM file and copy this into your dashboard.

h3. Import the .p12 file

Visit your Notifications app dashboard

Then scroll down to the "Setting up Apple Push Notification Service" section.

Select the .p12 file you have exported in the previous step and enter the password you created when exporting the .p12 file. It should something like:

<a href="/images/tutorials/apple-push-p12.png" target="_blank">
	 <img src="/images/tutorials/apple-push-p12.png" style="width: 100%" alt="Apple Push P12">
</a>


Click "Save APNs settings" and you should get confirmation of the certificate being imported successfully.  You can additionally confirm that the file has been imported correctly by refreshing the page and seeing if the PEM cert and private key text boxes are now populated with the imported key details.

h3. Create a PEM file from the .p12 file

Using openssl, convert the recently exported .p12 file to a PEM file:

```
$ openssl pkcs12 -in ./YOUR_CERT_NAME.p12 -out ./YOUR_CERT_NAME.pem -nodes -clcerts
```

Then open the PEM file in your text editor and copy everything between and including -----BEGIN CERTIFICATE----- and -----END CERTIFICATE----- into the "Pem cert" text box of the Apple Push Notification Service section of your Notifications app dashboard.

Then copy everything between and including -----BEGIN PRIVATE KEY----- and -----END PRIVATE KEY----- into the "Pem private key" text box of the Apple Notification Section of your Notifications app dashboard.

Your configure page should now look something like the following:

<a href="/images/tutorials/apple-push-pem.png" target="_blank">
	 <img src="/images/tutorials/apple-push-pem.png" style="width: 100%" alt="Apple Push PEM">
</a>

Press the "Save APNS settings" button to save your changes.

h3. Enable Push

In order to enable push messaging support in your iOS application, you will have to enable 'Push notification' in your Ably dashboard.
Remember, by default 'Push Notification' feature is disabled. So you will have to enable it.

Then, under 'Channel rules', add a new channel (or edit an existing one). Keep in mind that you will have to use this namespace in
your iOS application else you will get an error saying 'push support is not enabled'. In this tutorial, the namespace is used as 'push' and in the code, you can define a channel name with this namespace.
For example, a channel name, in this case, can be "push:my_channel_name".

Then tick the checkboxes called 'Persisted' and 'Push notification enabled' and click on Save button.

 <a href="/images/tutorials/ios-push-enabled.png" target="_blank">
  <img src="/images/tutorials/ios-push-enabled.png" style="width: 100%" alt="iOS Push Enabled">
 </a>
